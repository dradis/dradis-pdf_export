<%= content_tag :div, id: 'plugin-pdf_export', class: 'tab-pane fade' do %>

  <h4>Generate a custom PDF report</h4>

  To customize the PDF structure, see the <a href="https://dradisframework.com/support/guides/reporting/pdf_reports.html" target="_blank">Creating PDF reports</a> guide.

  <%= form_tag project_export_manager_path(current_project), target: '_blank' do %>
    <%= hidden_field_tag :plugin, :pdf_export %>
    <%= hidden_field_tag :route, :root %>

    <div class="btn-group btn-states mt-4" data-behavior="btn-states">
      <button id="export-button" class="btn btn-lg btn-primary">Export <span data-behavior="state-button">Published</span> Records</button>
      <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="sr-only">Toggle Dropdown</span>
      </button>
      <div class="dropdown-menu">
        <%= collection_radio_buttons(:pdf, :state, [['published', 'published'], ['all', 'all']], :first, :first) do |b| %>
          <span>
            <%= b.label class: 'state' do %>
              <%= b.radio_button class: 'd-none', data: { behavior: 'state-radio'}, checked: b.value == 'published' %>
              <i class="fa fa-check fa-fw"></i>
              <div class="state-label">
                <p data-behavior="state-label"><%= b.text.humanize %></p>
                <% case b.value %>
                <% when 'published' %>
                <span>Only records that have been reviewed and published.</span>
                <% when 'all' %>
                <span>All records, regardless if they are draft, ready for review, or published.</span>
                <% end %>
              </div>
            <% end %>
          </span>
        <% end %>
      </div>
    </div>
  <% end %>
<% end%>
